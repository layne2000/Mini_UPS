(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[64],{7199:function(e,l,t){"use strict";var r=t(9963),a=t(4195),o=t(6016),n=t(6154),d=t(6270);t(4415);(0,r.ri)(a.Z).mount("#app");const u=(0,r.ri)(a.Z);u.config.globalProperties.$axios=n.Z,u.use(d.Z),u.use(o.Z),u.mount("#app")},6016:function(e,l,t){"use strict";t.d(l,{Z:function(){return Qe}});var r=t(2119),a=t(6252);const o={class:"accountContainer"},n=(0,a._)("h3",{class:"accountTitle"},"Login",-1);function d(e,l,t,r,d,u){const s=(0,a.up)("MenuLine"),i=(0,a.up)("el-input"),m=(0,a.up)("el-form-item"),p=(0,a.up)("el-button"),c=(0,a.up)("el-form"),w=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(w,null,{default:(0,a.w5)((()=>[(0,a._)("div",o,[n,(0,a.Wm)(c,{ref:"form",model:e.form,rules:e.rules,"label-width":"80px",class:"form"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{label:"Name",prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{modelValue:e.form.username,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.username=l),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,{label:"Password",prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"password",modelValue:e.form.password,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.password=l),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(p,{type:"primary",style:{width:"50%"},onClick:e.handleLogin},{default:(0,a.w5)((()=>[(0,a.Uk)("Login")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])),_:1})],64)}t(7658);const u={class:"common-layout"},s=["src"],i=(0,a._)("div",{class:"flex-grow"},null,-1);function m(e,l,r,o,n,d){const m=(0,a.up)("router-link"),p=(0,a.up)("el-menu-item"),c=(0,a.up)("el-sub-menu"),w=(0,a.up)("el-menu"),h=(0,a.up)("el-header"),f=(0,a.up)("el-container");return(0,a.wg)(),(0,a.iD)("div",u,[(0,a.Wm)(f,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a.Wm)(w,{class:"el-menu-demo",mode:"horizontal",ellipsis:!1},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{index:"0"},{default:(0,a.w5)((()=>[(0,a._)("img",{src:t(1274),alt:"UPS",style:{width:"40px",height:"40px","margin-right":"8px"}},null,8,s),(0,a.Wm)(m,{to:"/"},{default:(0,a.w5)((()=>[(0,a.Uk)("UPS")])),_:1})])),_:1}),i,(0,a.Wm)(p,{index:"1"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/tracking"},{default:(0,a.w5)((()=>[(0,a.Uk)("Track")])),_:1})])),_:1}),(0,a.Wm)(p,{index:"2"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/myorder"},{default:(0,a.w5)((()=>[(0,a.Uk)("MyOrder")])),_:1})])),_:1}),(0,a.Wm)(c,{index:"3"},{title:(0,a.w5)((()=>[(0,a.Uk)("Account")])),default:(0,a.w5)((()=>[n.userId?((0,a.wg)(),(0,a.j4)(p,{key:0,index:"3-1"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/profile"},{default:(0,a.w5)((()=>[(0,a.Uk)("MyProfile")])),_:1})])),_:1})):(0,a.kq)("",!0),n.userId?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(p,{key:1,index:"3-2"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/signup"},{default:(0,a.w5)((()=>[(0,a.Uk)("Signup")])),_:1})])),_:1})),n.userId?((0,a.wg)(),(0,a.j4)(p,{key:3,index:"3-4"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/logout"},{default:(0,a.w5)((()=>[(0,a.Uk)("Logout")])),_:1})])),_:1})):((0,a.wg)(),(0,a.j4)(p,{key:2,index:"3-3"},{default:(0,a.w5)((()=>[(0,a.Wm)(m,{to:"/mylogin"},{default:(0,a.w5)((()=>[(0,a.Uk)("Login")])),_:1})])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])}var p=t(6245),c={name:"MenuLine",data(){return{userId:""}},created(){const e=localStorage.getItem("authToken");if(e){const l=(0,p.Z)(e),t=l.sub;this.userId=t}else this.userId=""}},w=t(3744);const h=(0,w.Z)(c,[["render",m]]);var f=h,g=t(1348),_=t(6154),b=t(1354),k=t.n(b),y=(0,a.aZ)({name:"LoginPage",components:{MenuLine:f},data(){return{form:{username:"",password:""},rules:{username:[{required:!0,message:"Username is required",trigger:"blur"}],password:[{required:!0,message:"Password is required",trigger:"blur"}]}}},methods:{async handleLogin(){await this.$refs.form.validate((async e=>{if(e){const e={userId:this.form.username,password:k().SHA256(this.form.password).toString()};try{const l=await _.Z.post("/mylogin",e);if(console.log("response.data:",l.data),200===l.status){(0,g.z8)({message:"Good, login successfully.",type:"success"});const e=l.data.token;localStorage.setItem("authToken",e);const t=JSON.stringify(l.data.userInfo);localStorage.setItem("userInfo",t),_.Z.defaults.headers.common.Authorization=`Bearer ${e}`,await this.$router.push("/")}}catch(l){g.z8.error("Oops!! login failure, try again.")}}else g.z8.error("Please input correct format of userId and password.")}))}}});const W=(0,w.Z)(y,[["render",d]]);var I=W,v=t(3577);const U=(0,a._)("br",null,null,-1),D={class:"accountContainer"},q=(0,a._)("h3",{class:"accountTitle"},"Logout",-1);function V(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-button"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-form"),m=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[U,(0,a._)("div",D,[(0,a.Wm)(i,{"label-width":"80px"},{default:(0,a.w5)((()=>[q,(0,a._)("h4",null,"Welcome "+(0,v.zw)(e.username)+", are you sure to logout?",1),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"primary",style:{width:"50%"},onClick:e.handleLogout},{default:(0,a.w5)((()=>[(0,a.Uk)("Logout")])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})],64)}var P=(0,a.aZ)({name:"LogoutPage",components:{MenuLine:f},data(){return{username:""}},created(){const e=localStorage.getItem("authToken");if(e){const l=(0,p.Z)(e),t=l.sub;this.username=t}else this.username="  "},methods:{async handleLogout(){try{const e=await _.Z.post("/logout");console.log("response.data:",e.data),200===e.status?(localStorage.removeItem("authToken"),localStorage.removeItem("userInfo"),this.username="",(0,g.z8)({message:"Good, logout successfully.",type:"success"}),this.$router.push("/")):g.z8.error("Oops, logout failure! try again.")}catch(e){g.z8.error("Oops, logout failure!! try again.")}}}});const T=(0,w.Z)(P,[["render",V]]);var S=T;const L={class:"order-search"},x={class:"order-filter"};function C(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-button"),m=(0,a.up)("el-form"),p=(0,a.up)("OrderTable"),c=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(c,null,{default:(0,a.w5)((()=>[(0,a._)("div",L,[(0,a.Wm)(m,{model:o.searchForm,inline:"",style:{display:"flex","justify-content":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Tracking Number"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:o.searchForm.orderNo,"onUpdate:modelValue":l[0]||(l[0]=e=>o.searchForm.orderNo=e),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:n.search},{default:(0,a.w5)((()=>[(0,a.Uk)("Track")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])]),(0,a._)("div",x,[(0,a._)("p",null,"Order ID: "+(0,v.zw)(n.id),1),(0,a.Wm)(p,{"table-data":o.tableData},null,8,["table-data"])])])),_:1})],64)}const O={class:"order-search"};function Z(e,l,t,r,o,n){const d=(0,a.up)("el-table-column"),u=(0,a.up)("el-button"),s=(0,a.up)("el-table");return(0,a.wg)(),(0,a.iD)("div",O,[(0,a.Wm)(s,{data:t.tableData,style:{width:"100%"}},{default:(0,a.w5)((()=>[(0,a.Wm)(d,{fixed:"",label:"Ship ID",prop:"shipId",width:"150"}),(0,a.Wm)(d,{label:"User ID",prop:"userId",width:"150"}),(0,a.Wm)(d,{label:"Truck ID",prop:"truckId",width:"150"}),(0,a.Wm)(d,{label:"Status",prop:"shipmentStatus",width:"150"}),(0,a.Wm)(d,{label:"Commodity ID",prop:"id",width:"150"}),(0,a.Wm)(d,{label:"Description",prop:"description",width:"150"}),(0,a.Wm)(d,{label:"X",prop:"x",width:"150"}),(0,a.Wm)(d,{label:"Y",prop:"y",width:"150"}),(0,a.Wm)(d,{label:"Warehouse ID",prop:"whId",width:"150"}),(0,a.Wm)(d,{label:"Created Time",prop:"createdTime",width:"150"}),(0,a.Wm)(d,{label:"Delivering Time",prop:"deliveringTime",width:"150"}),(0,a.Wm)(d,{label:"Delivered Time",prop:"deliveredTime",width:"150"}),(0,a.Wm)(d,{fixed:"right",label:"",width:"300"},{default:(0,a.w5)((({row:e})=>[(0,a.Wm)(u,{type:"primary",onClick:l=>n.Detail(e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Detail")])),_:2},1032,["onClick"]),(0,a.Wm)(u,{type:"primary",disabled:n.isDisabled,onClick:l=>n.Edit(e)},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:2},1032,["disabled","onClick"])])),_:1})])),_:1},8,["data"])])}var z=t(3825),$={name:"OrderTable",components:{ElTable:z.eI,ElTableColumn:z.$Y},props:{tableData:{type:Array,required:!0}},data(){return{userId:""}},created(){const e=localStorage.getItem("authToken");if(e){const l=(0,p.Z)(e),t=l.sub;this.userId=t}else this.userId=""},computed:{isDisabled(){return!this.userId}},methods:{Detail(e){this.$router.push({path:"/OrderDetail",query:{shipId:e.shipId,edit_mode:0}})},Edit(e){this.$router.push({path:"/EditOrderDetail",query:{shipId:e.shipId,edit_mode:1}})}}};const M=(0,w.Z)($,[["render",Z]]);var j=M,H={name:"TrackPage",components:{MenuLine:f,OrderTable:j},computed:{id(){return this.$route.query.shipId}},methods:{search(){this.$router.replace(`/tracking?shipId=${this.searchForm.orderNo}`).then((()=>{this.getOrders()}))},getOrders(){_.Z.post("/tracking",{shipId:this.id}).then((e=>{this.tableData=e.data,console.log(e.data)})).catch((e=>{console.error(e)}))}},data(){return{searchForm:{orderNo:""},tableData:[]}},created(){this.getOrders()}};const A=(0,w.Z)(H,[["render",C]]);var E=A;const Y={class:"accountContainer"},N=(0,a._)("h3",{class:"accountTitle"},"Signup",-1);function F(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-button"),m=(0,a.up)("el-form"),p=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",Y,[N,(0,a.Wm)(m,{ref:"form",model:e.form,rules:e.rules,"label-width":"80px",class:"form"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Username",prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.form.username,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.username=l),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"Email",prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"email",modelValue:e.form.email,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.email=l),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"Password",prop:"password"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"password",modelValue:e.form.password,"onUpdate:modelValue":l[2]||(l[2]=l=>e.form.password=l),placeholder:""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:e.handleSubmit},{default:(0,a.w5)((()=>[(0,a.Uk)("Signup")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])),_:1})],64)}var G=(0,a.aZ)({name:"SignupPage",components:{MenuLine:f},data(){return{form:{email:"",password:"",username:""},rules:{username:[{required:!0,message:"Username is required",trigger:"blur"},{min:3,max:20,message:"Username length should be between 3 and 20",trigger:"blur"}],password:[{required:!0,message:"Password is required",trigger:"blur"},{min:6,max:20,message:"Password length should be between 6 and 20",trigger:"blur"}],email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Invalid email format",trigger:["blur","change"]}]}}},methods:{async handleSubmit(){await this.$refs.form.validate((async e=>{if(e){const e={userId:this.form.username,email:this.form.email,password:k().SHA256(this.form.password).toString()};try{const l=await _.Z.post("/signup",e);console.log("response.data:",l.data),(0,g.z8)({message:"Good, account created successfully.",type:"success"});const t=l.data.token,r=JSON.stringify(l.data.userInfo);localStorage.setItem("authToken",t),localStorage.setItem("userInfo",r),_.Z.defaults.headers.common.Authorization=`Bearer ${t}`,window.location.href="/"}catch(l){console.error(l),g.z8.error("Oops, something wrong.")}}else g.z8.error("Oops, please create account with correct format!")}))}}});const B=(0,w.Z)(G,[["render",F]]);var J=B,R=t.p+"img/index.a4158bd2.png";const X={style:{margin:"20px"}},K=(0,a._)("div",null,[(0,a._)("img",{src:R,style:{width:"100%"}})],-1);function Q(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-button"),m=(0,a.up)("el-form"),p=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",X,[(0,a._)("p",null,"Hi~ "+(0,v.zw)(o.userId)+" Welcome to Mini UPS :)",1),(0,a.Wm)(m,{inline:"",style:{display:"flex","justify-content":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Tracking Number"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:o.shipId,"onUpdate:modelValue":l[0]||(l[0]=e=>o.shipId=e)},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:n.search},{default:(0,a.w5)((()=>[(0,a.Uk)("Track")])),_:1},8,["onClick"])])),_:1})])),_:1})]),K])),_:1})],64)}var ee={name:"HomePage",components:{MenuLine:f},data(){return{shipId:"",userId:""}},mounted(){const e=localStorage.getItem("startTime");console.log(`Old start time is ${e}`);const l=new Date,t=l.getTime();console.log(`The start time is ${t}`),localStorage.setItem("startTime",t.toString())},created(){const e=localStorage.getItem("authToken");if(e){const l=(0,p.Z)(e),t=l.sub;this.userId=t}else this.userId=""},methods:{search(){this.$router.push({path:"/tracking",query:{shipId:this.shipId}})}}};const le=(0,w.Z)(ee,[["render",Q]]);var te=le;const re={class:"accountContainer"},ae=(0,a._)("h3",{class:"accountTitle"},"My Profile",-1);function oe(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-button"),m=(0,a.up)("el-form"),p=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",re,[ae,(0,a.Wm)(m,{model:e.profile,"label-width":"80px"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"UserId:",prop:"username"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.profile.userId,"onUpdate:modelValue":l[0]||(l[0]=l=>e.profile.userId=l),disabled:!0},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"Email:",prop:"email"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{modelValue:e.profile.email,"onUpdate:modelValue":l[1]||(l[1]=l=>e.profile.email=l),disabled:!0},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:e.changePassword},{default:(0,a.w5)((()=>[(0,a.Uk)("Change Password")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model"])])])),_:1})],64)}var ne=(0,a.aZ)({name:"ProfilePage",components:{MenuLine:f},data(){return{profile:{userId:"",email:""}}},methods:{changePassword(){this.$router.push({path:"/changepwd"})}},async created(){const e=localStorage.getItem("authToken");if(e)try{const l=(0,p.Z)(e),t=l.sub;this.profile.userId=t;const r=await _.Z.get("/profile");this.profile.email=r.data}catch(l){g.z8.error("Oops, something wrong, please login."),await this.$router.push("/mylogin")}else g.z8.error("Oops, please login."),await this.$router.push("/mylogin")}});const de=(0,w.Z)(ne,[["render",oe]]);var ue=de;const se=(0,a._)("br",null,null,-1);function ie(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("OrderTable"),s=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),se,(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(u,{"table-data":o.tableData},null,8,["table-data"])])),_:1})],64)}var me={name:"MyOrderPage",components:{MenuLine:f,OrderTable:j},data(){return{userId:"",tableData:[]}},created(){const e=localStorage.getItem("authToken");if(e)try{const l=(0,p.Z)(e),t=l.sub;this.userId=t,_.Z.get("/myorder").then((e=>{this.tableData=e.data,console.log("data is ",this.tableData)})).catch((e=>{console.log(e)}))}catch(l){window.location.href="/mylogin",g.z8.error("Oops, something wrong, please login.")}else g.z8.error("Oops, please login."),this.$router.push("/mylogin")}};const pe=(0,w.Z)(me,[["render",ie]]);var ce=pe;const we={class:"accountContainer"},he=(0,a._)("h3",{class:"accountTitle"},"Change Password",-1);function fe(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-input"),s=(0,a.up)("el-form-item"),i=(0,a.up)("el-button"),m=(0,a.up)("el-form"),p=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a._)("div",we,[he,(0,a.Wm)(m,{model:e.form,rules:e.rules,ref:"form","label-position":"top"},{default:(0,a.w5)((()=>[(0,a.Wm)(s,{label:"Current Password",prop:"currentPassword"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"password",modelValue:e.form.currentPassword,"onUpdate:modelValue":l[0]||(l[0]=l=>e.form.currentPassword=l),modelModifiers:{trim:!0},autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,{label:"New Password",prop:"newPassword"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{type:"password",modelValue:e.form.newPassword,"onUpdate:modelValue":l[1]||(l[1]=l=>e.form.newPassword=l),modelModifiers:{trim:!0},autocomplete:"off","show-password":""},null,8,["modelValue"])])),_:1}),(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[(0,a.Wm)(i,{type:"primary",onClick:e.submitPwd},{default:(0,a.w5)((()=>[(0,a.Uk)("Submit")])),_:1},8,["onClick"]),(0,a.Wm)(i,{onClick:e.resetPwd},{default:(0,a.w5)((()=>[(0,a.Uk)("Reset")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["model","rules"])])])),_:1})],64)}var ge=(0,a.aZ)({name:"ChangePwd",components:{MenuLine:f},data(){return{form:{currentPassword:"",newPassword:""},rules:{currentPassword:[{required:!0,message:"Username is required",trigger:"blur"}],newPassword:[{required:!0,message:"Username is required",trigger:"blur"},{min:6,max:20,message:"Password length should be between 6 and 20",trigger:"blur"}]}}},methods:{async submitPwd(){this.$refs.form.validate((async e=>{if(e){const e={oldPassword:k().SHA256(this.form.currentPassword).toString(),newPassword:k().SHA256(this.form.newPassword).toString()};try{const l=await _.Z.post("/changepwd",e);console.log("response.data:",l.data),200===l.status?((0,g.z8)({message:"Good, password changed successfully.",type:"success"}),this.$router.push("/profile")):g.z8.error(l.data)}catch(l){g.z8.error("Oops! password change failure, please try again.")}}else g.z8.error("Oops!! password change failure, please try again.")}))},resetPwd(){this.$refs.form.resetFields()}}});const _e=(0,w.Z)(ge,[["render",fe]]);var be=_e;const ke=e=>((0,a.dD)("data-v-bb89f6e8"),e=e(),(0,a.Cn)(),e),ye={class:"container"},We={class:"left-table"},Ie=ke((()=>(0,a._)("h3",null,"Timeline",-1))),ve=ke((()=>(0,a._)("br",null,null,-1))),Ue={class:"right-table"},De=ke((()=>(0,a._)("h3",null,"Order Detail",-1))),qe=ke((()=>(0,a._)("br",null,null,-1))),Ve=ke((()=>(0,a._)("div",{class:"cell-item"},"OrderId",-1))),Pe=ke((()=>(0,a._)("br",null,null,-1))),Te=ke((()=>(0,a._)("br",null,null,-1))),Se=ke((()=>(0,a._)("br",null,null,-1)));function Le(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-timeline-item"),s=(0,a.up)("el-timeline"),i=(0,a.up)("el-descriptions-item"),m=(0,a.up)("el-input"),p=(0,a.up)("el-descriptions"),c=(0,a.up)("el-button"),w=(0,a.up)("el-form-item"),h=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a._)("p",null,"Order ID: "+(0,v.zw)(n.shipId),1),(0,a._)("p",null,"edit mode: "+(0,v.zw)(n.edit_mode),1),(0,a._)("div",ye,[(0,a._)("div",We,[Ie,ve,(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[n.showLabel1?((0,a.wg)(),(0,a.j4)(u,{key:0,timestamp:o.order.createdTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Label Created")])),_:1},8,["timestamp"])):(0,a.kq)("",!0),n.showLabel2?((0,a.wg)(),(0,a.j4)(u,{key:1,timestamp:o.order.deliveringTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Package started to deliver")])),_:1},8,["timestamp"])):(0,a.kq)("",!0),n.showLabel3?((0,a.wg)(),(0,a.j4)(u,{key:2,timestamp:o.order.deliveredTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Package started delivering")])),_:1},8,["timestamp"])):(0,a.kq)("",!0)])),_:1})]),(0,a._)("div",Ue,[De,qe,(0,a.Wm)(p,{column:1,border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[Ve])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.orderId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("shipId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.shipId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("userId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.userId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("truckId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.truckId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("shipmentStatus")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.shipmentStatus),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("commodity id")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.id),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("description")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.description),1)])),_:1}),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:0},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.x")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.x,"onUpdate:modelValue":l[0]||(l[0]=e=>o.order.x=e),placeholder:o.order.x,disabled:""},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:1},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.y")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.y,"onUpdate:modelValue":l[1]||(l[1]=e=>o.order.y=e),placeholder:o.order.y,disabled:""},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:2},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.x")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.x,"onUpdate:modelValue":l[2]||(l[2]=e=>o.order.x=e),placeholder:o.order.x},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:3},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.y")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.y,"onUpdate:modelValue":l[3]||(l[3]=e=>o.order.y=e),placeholder:o.order.y},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0)])),_:1})])]),Pe,Te,Se,(0,a.Wm)(w,{class:"table-container"},{default:(0,a.w5)((()=>["1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(c,{key:0,type:"primary",onClick:l[4]||(l[4]=e=>n.SaveHandle(o.order))},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1})):(0,a.kq)("",!0),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(c,{key:1,type:"primary",onClick:l[5]||(l[5]=e=>n.EditHandle(o.order))},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})],64)}var xe={name:"OrderDetail",components:{MenuLine:f},computed:{shipId(){return this.$route.query.shipId},edit_mode(){return this.$route.query.edit_mode},showLabel1(){return"0"!==this.order.createdTime},showLabel2(){return"0"!==this.order.deliveringTime},showLabel3(){return"0"!==this.order.deliveredTime}},data(){return{order:{}}},methods:{SaveHandle(e){this.$router.push({name:"OrderDetail",query:{shipId:e.shipId,edit_mode:"0"}}).catch((()=>{}))},EditHandle(e){this.$router.push({name:"EditOrderDetail",query:{shipId:e.shipId,edit_mode:"1"}}).catch((()=>{}))}}};const Ce=(0,w.Z)(xe,[["render",Le],["__scopeId","data-v-bb89f6e8"]]);var Oe=Ce;const Ze=e=>((0,a.dD)("data-v-31caaaaa"),e=e(),(0,a.Cn)(),e),ze={class:"container"},$e={class:"left-table"},Me=Ze((()=>(0,a._)("h3",null,"Timeline",-1))),je=Ze((()=>(0,a._)("br",null,null,-1))),He={class:"right-table"},Ae=Ze((()=>(0,a._)("h3",null,"Order Detail",-1))),Ee=Ze((()=>(0,a._)("br",null,null,-1))),Ye=Ze((()=>(0,a._)("div",{class:"cell-item"},"OrderId",-1))),Ne=Ze((()=>(0,a._)("br",null,null,-1))),Fe=Ze((()=>(0,a._)("br",null,null,-1))),Ge=Ze((()=>(0,a._)("br",null,null,-1)));function Be(e,l,t,r,o,n){const d=(0,a.up)("MenuLine"),u=(0,a.up)("el-timeline-item"),s=(0,a.up)("el-timeline"),i=(0,a.up)("el-descriptions-item"),m=(0,a.up)("el-input"),p=(0,a.up)("el-descriptions"),c=(0,a.up)("el-button"),w=(0,a.up)("el-form-item"),h=(0,a.up)("el-main");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(d),(0,a.Wm)(h,null,{default:(0,a.w5)((()=>[(0,a._)("div",ze,[(0,a._)("div",$e,[Me,je,(0,a.Wm)(s,null,{default:(0,a.w5)((()=>[n.showLabel1?((0,a.wg)(),(0,a.j4)(u,{key:0,timestamp:o.order.createdTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Label Created")])),_:1},8,["timestamp"])):(0,a.kq)("",!0),n.showLabel2?((0,a.wg)(),(0,a.j4)(u,{key:1,timestamp:o.order.deliveringTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Package started to deliver")])),_:1},8,["timestamp"])):(0,a.kq)("",!0),n.showLabel3?((0,a.wg)(),(0,a.j4)(u,{key:2,timestamp:o.order.deliveredTime},{default:(0,a.w5)((()=>[(0,a.Uk)("Package started delivering")])),_:1},8,["timestamp"])):(0,a.kq)("",!0)])),_:1})]),(0,a._)("div",He,[Ae,Ee,(0,a.Wm)(p,{column:1,border:""},{default:(0,a.w5)((()=>[(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[Ye])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.orderId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("shipId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.shipId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("userId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.userId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("truckId")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.truckId),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("shipmentStatus")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.shipmentStatus),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("commodity id")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.id),1)])),_:1}),(0,a.Wm)(i,null,{label:(0,a.w5)((()=>[(0,a.Uk)("description")])),default:(0,a.w5)((()=>[(0,a._)("span",null,(0,v.zw)(o.order.description),1)])),_:1}),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:0},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.x")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.x,"onUpdate:modelValue":l[0]||(l[0]=e=>o.order.x=e),placeholder:o.order.x,disabled:""},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:1},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.y")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.y,"onUpdate:modelValue":l[1]||(l[1]=e=>o.order.y=e),placeholder:o.order.y,disabled:""},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:2},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.x")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.x,"onUpdate:modelValue":l[2]||(l[2]=e=>o.order.x=e),placeholder:o.order.x},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0),"1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(i,{key:3},{label:(0,a.w5)((()=>[(0,a.Uk)("Destination.y")])),default:(0,a.w5)((()=>[(0,a.Wm)(m,{modelValue:o.order.y,"onUpdate:modelValue":l[3]||(l[3]=e=>o.order.y=e),placeholder:o.order.y},null,8,["modelValue","placeholder"])])),_:1})):(0,a.kq)("",!0)])),_:1})])]),Ne,Fe,Ge,(0,a.Wm)(w,{class:"table-container"},{default:(0,a.w5)((()=>["1"===n.edit_mode?((0,a.wg)(),(0,a.j4)(c,{key:0,type:"primary",onClick:l[4]||(l[4]=e=>n.SaveHandle(o.order))},{default:(0,a.w5)((()=>[(0,a.Uk)("Save")])),_:1})):(0,a.kq)("",!0),"0"===n.edit_mode?((0,a.wg)(),(0,a.j4)(c,{key:1,type:"primary",onClick:l[5]||(l[5]=e=>n.EditHandle(o.order))},{default:(0,a.w5)((()=>[(0,a.Uk)("Edit")])),_:1})):(0,a.kq)("",!0)])),_:1})])),_:1})],64)}var Je={name:"EditOrderDetail",components:{MenuLine:f},computed:{shipId(){return this.$route.query.shipId},edit_mode(){return this.$route.query.edit_mode},showLabel1(){return"0"!==this.order.createdTime},showLabel2(){return"0"!==this.order.deliveringTime},showLabel3(){return"0"!==this.order.deliveredTime}},data(){return{order:{}}},methods:{SaveHandle(e){this.$router.push({name:"OrderDetail",query:{shipId:e.shipId,edit_mode:"0"}}).catch((()=>{}))},EditHandle(e){this.$router.push({name:"EditOrderDetail",query:{shipId:e.shipId,edit_mode:"1"}}).catch((()=>{}))}}};const Re=(0,w.Z)(Je,[["render",Be],["__scopeId","data-v-31caaaaa"]]);var Xe=Re;const Ke=(0,r.p7)({history:(0,r.PO)(),routes:[{path:"/",name:"HomePage",component:te,meta:{requiresAuth:!1}},{path:"/mylogin",name:"LoginPage",component:I,meta:{requiresAuth:!1}},{path:"/logout",name:"Logout",component:S,meta:{requiresAuth:!1}},{path:"/changepwd",name:"ChangePwd",component:be,meta:{requireAuth:!0}},{path:"/tracking",name:"Track",component:E,meta:{requiresAuth:!1}},{path:"/signup",name:"Signup",component:J,meta:{requiresAuth:!1}},{path:"/profile",name:"Profile",component:ue,meta:{requireAuth:!0}},{path:"/myorder",name:"myOrder",component:ce,meta:{requireAuth:!0}},{path:"/orderdetail",name:"OrderDetail",component:Oe,meta:{requiresAuth:!1}},{path:"/editorderdetail",name:"EditOrderDetail",component:Xe,meta:{requiresAuth:!1}}]});Ke.beforeEach(((e,l,t)=>{const r=localStorage.getItem("authToken");r?_.Z.defaults.headers.common.Authorization=`Bearer ${r}`:delete _.Z.defaults.headers.common.Authorization,t()}));var Qe=Ke},4195:function(e,l,t){"use strict";t.d(l,{Z:function(){return u}});var r=t(6252);function a(e,l){const t=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(t)}var o=t(3744);const n={},d=(0,o.Z)(n,[["render",a]]);var u=d},1274:function(e,l,t){"use strict";e.exports=t.p+"img/logo_ups.0ac29ef0.png"},2480:function(){}}]);